THREAD = 8


rule run_salmon_brain2k:
    output:
        "salmon_brain2k_out/alevin/alevin.log"
    benchmark:
        "benchmarks/salmon_brain2k.txt"
    shell:
        """
         export PATH=/home/fgao/software/salmon-0.11.3-linux_x86_64/bin:$PATH
         export LD_LIBRARY_PATH=/home/fgao/software/salmon-0.11.3-linux_x86_64/lib:$LD_LIBRARY_PATH
         salmon alevin -lISR -1 10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L001_R1_001.fastq.gz \
             10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L002_R1_001.fastq.gz 10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L003_R1_001.fastq.gz \
             10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L004_R1_001.fastq.gz 10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L005_R1_001.fastq.gz \
             10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L006_R1_001.fastq.gz 10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L007_R1_001.fastq.gz \
             10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L008_R1_001.fastq.gz -2 10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L001_R2_001.fastq.gz \
             10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L002_R2_001.fastq.gz 10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L003_R2_001.fastq.gz \
             10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L004_R2_001.fastq.gz 10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L005_R2_001.fastq.gz \
             10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L006_R2_001.fastq.gz 10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L007_R2_001.fastq.gz \
             10XGv2/nuclei_2k_fastqs/nuclei_2k_S1_L008_R2_001.fastq.gz --chromium -i index/salmon_index_mouse -p {THREAD} -o salmon_brain2k_out \
             --tgMap index/txp2gene_mouse.tsv â€“-dumpCsvCounts
        """

